- content_for :breadcrumb do
  = breadcrumbs('Home' => root_path)

- content_for :page_title do
  = 'Books'

- content_for :action_items do
  = link_to 'Add Book', new_book_path, :class => 'button'

.scope
  = link_to "All (#{Book.count})", books_path, :class => "button pill#{(params[:scope] == 'all' or params[:scope].nil?) ? ' primary' : ''}"
  = link_to "Undecided (#{Book.undecided.count})", books_path(:recommendation => 'undecided'), :class => "button pill#{(params[:recommendation] == 'undecided') ? ' primary' : ''}"
  = link_to "Keep (#{Book.keep.count})", books_path(:recommendation => 'keep'), :class => "button pill#{(params[:recommendation] == 'keep') ? ' primary' : ''}"
  = link_to "Trash (#{Book.trash.count})", books_path(:recommendation => 'trash'), :class => "button pill#{(params[:recommendation] == 'trash') ? ' primary' : ''}"

%br
%br

%table
  %thead
    %tr
      %th Title
      %th Author
      %th Published
      %th Publisher
      %th Actions
  %tbody
    - @books.each do |book|
      %tr{:class => "book book-#{book.id} book-recommendation-#{book.recommendation}"}
        %td= book.title
        %td= book.author
        %td= book.published
        %td= book.publisher
        %td{:style => 'white-space: nowrap;'}
          = link_to 'Show', book
          = link_to 'Edit', edit_book_path(book)
          = link_to 'Delete', book, :method => :delete, :confirm => 'Are you sure you want to remove that book?'

= paginate @books
